{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _defineProperty from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Button from\"@material-ui/core/Button\";import nodemailer from'nodemailer';import axios from'axios';import Media from\"react-media\";import'./ContactForm.scss';import Input from'../../../components/atoms/Form/Input/Input';import{faAngleDoubleRight,faArrowAltCircleRight}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";var ContactForm=/*#__PURE__*/function(_Component){_inherits(ContactForm,_Component);function ContactForm(props){var _this;_classCallCheck(this,ContactForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(ContactForm).call(this,props));_this.onChangedHandler=function(ev,inputIdentifier){console.log('onChangedHandler  ->  Field Name / value/ check ',inputIdentifier,ev.target.value,ev.target.checked);console.log('Event  ',ev.target,ev.target.name);var inputValue;var gender;if(inputIdentifier!=='salutation_1'||inputIdentifier!=='salutation_2')inputValue=ev.target.value;var updatedForm=_objectSpread({},_this.state.contactForm,_defineProperty({},inputIdentifier,_objectSpread({},_this.state.contactForm[inputIdentifier],{value:inputValue,valid:_this.checkValidation(ev.target.value,_this.state.contactForm[inputIdentifier].validation),touched:true,selected:ev.target.checked})));if(inputIdentifier==='salutation_1'||inputIdentifier==='salutation_2'){_this.setState({gender:ev.target.name});}// updatedForm.gender = document.querySelector('input[name=Gender]:checked').value;\nconsole.log('---- updatedForm ----',updatedForm);_this.setState({contactForm:updatedForm});};_this.state={contactForm:{salutation_1:{elType:'radio',elConfig:{type:'radio',name:'Frau'},value:'Frau',validation:{required:false},valid:'',label:'Frau',selected:true},salutation_2:{elType:'radio',elConfig:{type:'radio',name:'Herr'},value:'Herr',validation:{required:false},valid:'',label:'Herr',selected:false},name:{elType:'input',elConfig:{type:'text',name:'customerName',placeholder:'Name*'},value:'',validation:{required:true,isString:true,error:'Bitte überprüfen Sie Ihren Namen.'},valid:''},email:{elType:'input',elConfig:{type:'text',name:'customerEMail',placeholder:'E-Mail*'},value:'',validation:{required:true,isEmail:true,error:'Bitte überprüfen Sie Ihre E-Mail-Adresse.'},valid:''},company:{elType:'input',elConfig:{type:'text',name:'customerCompany',placeholder:'Unternehmen'},value:'',validation:{required:false},valid:''},phone:{elType:'input',elConfig:{type:'text',name:'customerPhone',placeholder:'Telefonnummer'},value:'',validation:{required:false,isNumeric:true},valid:''},subject:{elType:'input',elConfig:{type:'text',name:'customerSubject',placeholder:'Betreff*'},value:'',validation:{required:true,error:'Bitte geben Sie den Betreff ein.'},valid:''},message:{elType:'textarea',elConfig:{type:'text',name:'customerMessage',placeholder:'Ihre Nachricht an uns*'},value:'',validation:{required:true,error:'Bitte geben Sie Ihren Nachricht ein.'},valid:''}},gender:'',formIsValid:false};_this.onSubmitHandler=_this.onSubmitHandler.bind(_assertThisInitialized(_this));_this.onChangedHandler=_this.onChangedHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(ContactForm,[{key:\"checkValidation\",value:function checkValidation(value,rules){console.log('checkValidation value/rules',value,rules);var isValid=false;if(!rules){console.log('--ruels--');return true;}if(rules.required){isValid=value.trim()!==''?true:false;if(rules.isEmail){console.log(' --Mail-- ');var pattern=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;isValid=value.search(pattern)==0?true:false;}if(rules.isNumeric){console.log(' --isNumeric-- ');var _pattern=/^\\d+$/;isValid=value.search(_pattern)==0?true:false;}if(rules.isString){console.log(' --isString-- ');var _pattern2=/^[a-zA-Z\\s]+$/;isValid=value.search(_pattern2)==0?true:false;}}else{isValid='';}console.log('---isValid--- ',isValid);return isValid;}},{key:\"onSubmitHandler\",value:function onSubmitHandler(ev){var formIsValid,formInValid,formData,formInput,formEl,form;return _regeneratorRuntime.async(function onSubmitHandler$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('--onSubmitHandler--',this.state);ev.preventDefault();formIsValid=false;formInValid=false;formData={};for(formEl in this.state.contactForm){if(this.state.contactForm.hasOwnProperty(formEl)){console.log('Name: ',this.state.contactForm[formEl].elConfig.name);formInput=this.state.contactForm[formEl];formData[formEl]=formInput.value;if(formInput.validation.required){if(formInput.valid){console.log('--- Input Feld is Valid--- OK');formIsValid=true;}else{formInValid=true;this.formInputError(formInput);console.log('--- Input Feld is InValid--- ERROR SHOW');}}else{formIsValid=true;console.log('--- NOT  Required --- OK');}}}console.log('--- formInValid ---',formInValid);if(!formInValid){console.log('--- FORM SEND ---');}else{console.log('--- FORM NOT SEND  show error---');}formData['gender']=this.state.gender;console.log('---formData---',formData);console.log('---Gender---',this.state.gender);_context.next=13;return _regeneratorRuntime.awrap(axios.post('/api/send_email',{formData:formData}));case 13:form=_context.sent;case 14:case\"end\":return _context.stop();}}},null,this);}},{key:\"formInputError\",value:function formInputError(inputEl){var inputElement=document.getElementsByClassName('InputEl');var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=inputElement[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var item=_step.value;if(item.getAttribute('name')===inputEl.elConfig.name){item.setAttribute('class','InputEl Invalid');}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}},{key:\"mytest\",value:function mytest(e){console.log('---value---',e.target.value);this.setState({selected:e.target.value});console.log('Radio Checked ',document.querySelector('input[name=myRadio]:checked').value);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){// console.log('Radio ', document.querySelector('input[name=myRadio]:checked').value);\n}},{key:\"render\",value:function render(){var _this2=this;var formElementsArry=[];for(var key in this.state.contactForm){if(this.state.contactForm.hasOwnProperty(key)){formElementsArry.push({id:key,config:this.state.contactForm[key]});}}var form=React.createElement(\"form\",null,React.createElement(\"div\",null,React.createElement(\"label\",{className:\"Label\",htmlFor:\"\"},\"radio-1\"),React.createElement(\"input\",{type:\"radio\",id:\"radio-1\",name:\"myRadio\",value:\"radio-1\",checked:this.state.selected==='radio-1',onChange:function onChange(e){return _this2.mytest(e);}}),React.createElement(\"br\",null),React.createElement(\"label\",{className:\"Label\",htmlFor:\"\"},\"radio-2\"),React.createElement(\"input\",{type:\"radio\",id:\"radio-2\",name:\"myRadio\",value:\"radio-2\",checked:this.state.selected==='radio-2',onChange:function onChange(e){return _this2.mytest(e);}})),formElementsArry.map(function(formEl){return React.createElement(Input,{key:formEl.id,elType:formEl.config.elType,elConfig:formEl.config.elConfig,value:formEl.config.value,invalid:formEl.config.valid,shouldValidate:formEl.config.validation,changed:function changed(ev){return _this2.onChangedHandler(ev,formEl.id);},label:formEl.config.label,checked:formEl.config.selected});}),React.createElement(\"div\",null,React.createElement(\"p\",{className:\"Hint\"},\" * Markierte Pflichtfelder bitte unbedingt ausf\\xFCllen \"),React.createElement(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",className:\"Button\",onClick:this.onSubmitHandler},\"Absenden  \",React.createElement(FontAwesomeIcon,{icon:faAngleDoubleRight}),\" \")));return React.createElement(Media,{queries:{small:\"(max-width: 599px)\",medium:\"(min-width: 600px) and (max-width: 1199px)\",large:\"(min-width: 1200px)\"}},function(matches){return React.createElement(\"div\",{className:matches.large?\"ContactForm\":matches.medium||matches.small?\"ContactForm_Mobile\":null},React.createElement(\"h2\",{className:\"Subheadline\"},\"Kontaktformular\"),React.createElement(\"p\",null,\"Haben Sie eine Frage oder m\\xF6chten Sie aus einem Grund Kontakt mit uns aufnehmen. Dann hinterlassen Sie uns einfach eine Nachricht. Wir freuen uns auf Sie und werden schnellstm\\xF6glich einen Antwort geben.\"),React.createElement(\"div\",{className:\"Form\"},form));});}}]);return ContactForm;}(Component);export default ContactForm;","map":{"version":3,"sources":["C:/Users/natali.kaefer/Workspace/kaefer-logistik/logistik-app/src/containers/Contact/ContactForm/ContactForm.js"],"names":["React","Component","Button","nodemailer","axios","Media","Input","faAngleDoubleRight","faArrowAltCircleRight","FontAwesomeIcon","ContactForm","props","onChangedHandler","ev","inputIdentifier","console","log","target","value","checked","name","inputValue","gender","updatedForm","state","contactForm","valid","checkValidation","validation","touched","selected","setState","salutation_1","elType","elConfig","type","required","label","salutation_2","placeholder","isString","error","email","isEmail","company","phone","isNumeric","subject","message","formIsValid","onSubmitHandler","bind","rules","isValid","trim","pattern","search","preventDefault","formInValid","formData","formEl","hasOwnProperty","formInput","formInputError","post","form","inputEl","inputElement","document","getElementsByClassName","item","getAttribute","setAttribute","e","querySelector","formElementsArry","key","push","id","config","mytest","map","small","medium","large","matches"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport  nodemailer   from 'nodemailer';\r\nimport axios from 'axios';\r\nimport Media from \"react-media\";\r\n\r\nimport  './ContactForm.scss';\r\nimport Input from '../../../components/atoms/Form/Input/Input'\r\nimport {faAngleDoubleRight, faArrowAltCircleRight} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\n\r\nclass ContactForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            contactForm: {\r\n                    salutation_1: {\r\n                        elType: 'radio',\r\n                        elConfig: {\r\n                            type: 'radio',\r\n                            name: 'Frau'\r\n                        },\r\n                        value: 'Frau',\r\n                        validation: {\r\n                            required: false\r\n                        },\r\n                        valid: '',\r\n                        label: 'Frau',\r\n                        selected: true\r\n                    },\r\n                    salutation_2: {\r\n                        elType: 'radio',\r\n                        elConfig: {\r\n                            type: 'radio',\r\n                            name: 'Herr'\r\n                        },\r\n                        value: 'Herr',\r\n                        validation: {\r\n                            required: false\r\n                        },\r\n                        valid: '',\r\n                        label: 'Herr',\r\n                        selected: false\r\n                    },\r\n                name: {\r\n                    elType: 'input',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerName',\r\n                        placeholder: 'Name*'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: true,\r\n                        isString: true,\r\n                        error: 'Bitte überprüfen Sie Ihren Namen.'\r\n                    },\r\n                    valid: ''\r\n                },\r\n                email: {\r\n                    elType: 'input',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerEMail',\r\n                        placeholder: 'E-Mail*'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: true,\r\n                        isEmail: true,\r\n                        error: 'Bitte überprüfen Sie Ihre E-Mail-Adresse.'\r\n                    },\r\n                    valid: ''\r\n                },\r\n                company: {\r\n                    elType: 'input',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerCompany',\r\n                        placeholder: 'Unternehmen'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: false\r\n                    },\r\n                    valid: ''\r\n                },\r\n                phone: {\r\n                    elType: 'input',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerPhone',\r\n                        placeholder: 'Telefonnummer'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: false,\r\n                        isNumeric: true\r\n                    },\r\n                    valid: ''\r\n                },\r\n                subject: {\r\n                    elType: 'input',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerSubject',\r\n                        placeholder: 'Betreff*'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: true,\r\n                        error: 'Bitte geben Sie den Betreff ein.'\r\n                    },\r\n                    valid: ''\r\n                },\r\n                message: {\r\n                    elType: 'textarea',\r\n                    elConfig: {\r\n                        type: 'text',\r\n                        name: 'customerMessage',\r\n                        placeholder: 'Ihre Nachricht an uns*'\r\n                    },\r\n                    value: '',\r\n                    validation: {\r\n                        required: true,\r\n                        error: 'Bitte geben Sie Ihren Nachricht ein.'\r\n                    },\r\n                    valid: '',\r\n                }\r\n            },\r\n            gender: '',\r\n            formIsValid: false\r\n        };\r\n        \r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n        this.onChangedHandler = this.onChangedHandler.bind(this);\r\n    }\r\n    \r\n    \r\n    onChangedHandler = (ev, inputIdentifier) => {\r\n        console.log('onChangedHandler  ->  Field Name / value/ check ', inputIdentifier, ev.target.value, ev.target.checked);\r\n        console.log('Event  ', ev.target , ev.target.name );\r\n\r\n        let inputValue;\r\n        let gender;\r\n        if(inputIdentifier !== 'salutation_1'  || inputIdentifier !== 'salutation_2')  inputValue = ev.target.value;\r\n\r\n        const updatedForm = {\r\n           ...this.state.contactForm,\r\n           [inputIdentifier]: {\r\n               ...this.state.contactForm[inputIdentifier],\r\n               value: inputValue,\r\n               valid: this.checkValidation(ev.target.value, this.state.contactForm[inputIdentifier].validation),\r\n               touched: true,\r\n               selected: ev.target.checked\r\n           }\r\n        };\r\n\r\n        if(inputIdentifier === 'salutation_1' || inputIdentifier === 'salutation_2' ){\r\n            this.setState({gender: ev.target.name})\r\n        }\r\n\r\n\r\n       // updatedForm.gender = document.querySelector('input[name=Gender]:checked').value;\r\n        \r\n        console.log('---- updatedForm ----', updatedForm);\r\n        this.setState({contactForm: updatedForm})\r\n\r\n        \r\n    };\r\n\r\n    checkValidation(value, rules) {\r\n        console.log('checkValidation value/rules', value, rules);\r\n        let isValid = false;\r\n        \r\n        if (!rules) {\r\n            console.log('--ruels--');\r\n            return true;\r\n        }\r\n\r\n        if(rules.required) {\r\n            isValid = value.trim() !== '' ? true : false;\r\n\r\n            if (rules.isEmail) {\r\n                console.log(' --Mail-- ');\r\n                const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n                isValid = value.search(pattern) == 0 ? true : false;\r\n            }\r\n            if (rules.isNumeric) {\r\n                console.log(' --isNumeric-- ');\r\n                const pattern = /^\\d+$/;\r\n                isValid = value.search(pattern) == 0 ? true : false;\r\n            }\r\n            if (rules.isString) {\r\n                console.log(' --isString-- ');\r\n                const pattern = /^[a-zA-Z\\s]+$/;\r\n                isValid = value.search(pattern) == 0 ? true : false;\r\n\r\n            }\r\n        } else {\r\n            isValid = '';\r\n        }\r\n        console.log('---isValid--- ',isValid);\r\n        \r\n        return isValid;\r\n    }\r\n    \r\n    async onSubmitHandler(ev) {\r\n        console.log('--onSubmitHandler--' ,this.state);\r\n        ev.preventDefault();\r\n\r\n        let formIsValid = false;\r\n        let formInValid = false;\r\n        const formData = {};\r\n        let formInput;\r\n        \r\n        for (let formEl in this.state.contactForm) {\r\n            if (this.state.contactForm.hasOwnProperty(formEl)) {\r\n                console.log('Name: ', this.state.contactForm[formEl].elConfig.name);\r\n\r\n                formInput = this.state.contactForm[formEl];\r\n                formData[formEl] = formInput.value;\r\n\r\n                if(formInput.validation.required) {\r\n\r\n                    if (formInput.valid) {\r\n                        console.log('--- Input Feld is Valid--- OK');\r\n                        formIsValid = true;\r\n                    } else {\r\n                        formInValid = true;\r\n                        this.formInputError(formInput);\r\n                        console.log('--- Input Feld is InValid--- ERROR SHOW');\r\n                    }\r\n                } else {\r\n                    formIsValid = true;\r\n                    console.log('--- NOT  Required --- OK');\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        console.log('--- formInValid ---', formInValid);\r\n\r\n        if(!formInValid) {\r\n            console.log('--- FORM SEND ---');\r\n        } else {\r\n            console.log('--- FORM NOT SEND  show error---');\r\n        }\r\n\r\n        formData['gender'] = this.state.gender;\r\n        console.log('---formData---', formData);\r\n\r\n        console.log('---Gender---', this.state.gender);\r\n\r\n        const form = await axios.post('/api/send_email', {\r\n            formData\r\n        });\r\n\r\n        \r\n        //this.sendEmail(formData);\r\n        \r\n    };\r\n\r\n    formInputError(inputEl){\r\n        let inputElement = document.getElementsByClassName('InputEl');\r\n        for(let item of inputElement) {\r\n            if(item.getAttribute('name') === inputEl.elConfig.name){\r\n                item.setAttribute('class','InputEl Invalid')\r\n            }\r\n        }\r\n    };\r\n\r\n    mytest(e) {\r\n        console.log('---value---', e.target.value);\r\n       this.setState({ selected: e.target.value });\r\n       console.log('Radio Checked ', document.querySelector('input[name=myRadio]:checked').value);\r\n\r\n    }\r\n\r\n    componentDidUpdate () {\r\n       // console.log('Radio ', document.querySelector('input[name=myRadio]:checked').value);\r\n    }\r\n\r\n    render() {\r\n        const formElementsArry = [];\r\n        for (let key in this.state.contactForm) {\r\n            if (this.state.contactForm.hasOwnProperty(key)) {\r\n                formElementsArry.push({\r\n                    id: key,\r\n                    config: this.state.contactForm[key]\r\n                });\r\n            }\r\n        }\r\n        let form = (\r\n            <form>\r\n\r\n                <div>\r\n                    <label className=\"Label\" htmlFor=\"\">radio-1</label>\r\n                    <input type='radio' id='radio-1' name='myRadio' value='radio-1'\r\n                           checked={this.state.selected === 'radio-1'} onChange = {(e) =>this.mytest(e)} />\r\n                    <br />\r\n                    <label className=\"Label\" htmlFor=\"\">radio-2</label>\r\n                    <input type='radio' id='radio-2' name='myRadio' value='radio-2'\r\n                           checked={this.state.selected === 'radio-2'} onChange = {(e) =>this.mytest(e)}  />\r\n                </div>\r\n\r\n                {\r\n                    formElementsArry.map(formEl => (\r\n                        <Input\r\n                            key={formEl.id}\r\n                            elType={formEl.config.elType}\r\n                            elConfig={formEl.config.elConfig}\r\n                            value={formEl.config.value}\r\n                            invalid={formEl.config.valid}\r\n                            shouldValidate={formEl.config.validation}\r\n                            changed={ (ev) => this.onChangedHandler(ev,formEl.id)}\r\n                            label={formEl.config.label}\r\n                            checked={formEl.config.selected}\r\n\r\n                        />\r\n                    ))\r\n                }\r\n                <div>\r\n                    <p className=\"Hint\"> * Markierte Pflichtfelder bitte unbedingt ausfüllen </p>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        type=\"submit\"\r\n                        className=\"Button\"\r\n                        onClick={this.onSubmitHandler}\r\n                    >Absenden  <FontAwesomeIcon icon={faAngleDoubleRight}/> </Button>\r\n    \r\n                </div>\r\n            </form>\r\n        );\r\n\r\n        return (\r\n            <Media queries={{\r\n                small: \"(max-width: 599px)\",\r\n                medium: \"(min-width: 600px) and (max-width: 1199px)\",\r\n                large: \"(min-width: 1200px)\"\r\n            }}>\r\n                { matches => (\r\n                    <div className={ matches.large ? \"ContactForm\" : (matches.medium || matches.small) ? \"ContactForm_Mobile\" : null }>\r\n                       <h2 className=\"Subheadline\">Kontaktformular</h2>\r\n                        <p>Haben Sie eine Frage oder möchten Sie aus einem Grund Kontakt mit uns aufnehmen. Dann hinterlassen Sie uns einfach eine Nachricht. Wir freuen uns auf Sie und werden schnellstmöglich einen Antwort geben.</p>\r\n                        <div className=\"Form\">\r\n                            {form}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </Media>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ContactForm;"]},"metadata":{},"sourceType":"module"}