{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\src\\\\components\\\\molecules\\\\Modal\\\\Modal.js\";\nimport React, { Component } from 'react';\nimport ModalTrigger from \"./ModalTrigger/ModalTrigger\";\nimport ModalContent from \"./ModalContent/ModalContent\";\nimport config from \"../../../store/firebaseConfig\";\nexport var Modal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Modal).call(this));\n\n    _this.showModal = function () {\n      console.log('--showModal--');\n\n      _this.setState({\n        isShown: true\n      }, function () {\n        _this.closeButton.focus();\n      });\n\n      _this.toggleScrollLock();\n    };\n\n    _this.logOut = function () {\n      _this.setState({\n        isShown: true\n      });\n\n      _this.toggleScrollLock();\n\n      _this.props.buttonText = 'Anmelden';\n    };\n\n    _this.closeModal = function () {\n      console.log('--closeModal--');\n\n      _this.setState({\n        isShown: false\n      });\n\n      _this.TriggerButton.focus();\n\n      _this.toggleScrollLock();\n    };\n\n    _this.onKeyDown = function (event) {\n      console.log('--onKeyDown--');\n\n      if (event.keyCode === 27) {\n        _this.closeModal();\n      }\n    };\n\n    _this.onClickOutside = function (event) {\n      console.log('--onClickOutside--');\n      if (_this.modal && _this.modal.contains(event.target)) return;\n\n      _this.closeModal();\n    };\n\n    _this.toggleScrollLock = function () {\n      console.log('--toggleScrollLock--');\n      document.querySelector('body').classList.toggle('scroll-lock');\n    };\n\n    _this.state = {\n      isShown: false\n    };\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('==modal==', this.modal);\n      console.log('==this.props.isVisible==', this.props.isVisible);\n      console.log('== this.state.isShown ==', this.state.isShown);\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(ModalTrigger, {\n        showModal: this.props.isVisible ? this.showModal : this.logOut,\n        buttonRef: function buttonRef(ev) {\n          return _this2.TriggerButton = ev;\n        },\n        triggerText: this.props.buttonText,\n        awesomeIcon: this.props.awesomeIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), this.state.isShown && this.props.isVisible ? React.createElement(ModalContent, {\n        modalRef: function modalRef(ev) {\n          return _this2.modal = ev;\n        },\n        buttonRef: function buttonRef(ev) {\n          return _this2.closeButton = ev;\n        },\n        closeModal: this.closeModal,\n        content: this.props.modalContent,\n        onKeyDown: this.onKeyDown,\n        onClickOutside: this.onClickOutside,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return Modal;\n}(Component);\nexport default Modal;","map":{"version":3,"sources":["C:/Users/natali.kaefer/Workspace/kaefer-logistik/logistik-app/src/components/molecules/Modal/Modal.js"],"names":["React","Component","ModalTrigger","ModalContent","config","Modal","showModal","console","log","setState","isShown","closeButton","focus","toggleScrollLock","logOut","props","buttonText","closeModal","TriggerButton","onKeyDown","event","keyCode","onClickOutside","modal","contains","target","document","querySelector","classList","toggle","state","isVisible","ev","awesomeIcon","modalContent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport ModalTrigger from \"./ModalTrigger/ModalTrigger\";\r\nimport ModalContent from \"./ModalContent/ModalContent\";\r\nimport config from \"../../../store/firebaseConfig\";\r\n\r\nexport class  Modal extends Component {\r\n    \r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isShown: false\r\n        };\r\n    }\r\n\r\n    showModal = () => {\r\n        console.log('--showModal--');\r\n\r\n        this.setState({isShown: true}, () => {\r\n            this.closeButton.focus();\r\n        });\r\n        this.toggleScrollLock();\r\n    };\r\n\r\n    logOut = () => {\r\n        this.setState({isShown: true});\r\n        this.toggleScrollLock();\r\n        this.props.buttonText = 'Anmelden'\r\n    };\r\n    \r\n    closeModal = () => {\r\n        console.log('--closeModal--');\r\n        this.setState({ isShown: false });\r\n        this.TriggerButton.focus();\r\n        this.toggleScrollLock();\r\n    };\r\n    \r\n    onKeyDown = event => {\r\n        console.log('--onKeyDown--');\r\n        if (event.keyCode === 27) {\r\n            this.closeModal();\r\n        }\r\n    };\r\n    \r\n    onClickOutside = event => {\r\n        console.log('--onClickOutside--');\r\n        if (this.modal && this.modal.contains(event.target)) return;\r\n        this.closeModal();\r\n    };\r\n    \r\n    toggleScrollLock = () => {\r\n        console.log('--toggleScrollLock--');\r\n        document.querySelector('body').classList.toggle('scroll-lock');\r\n    };\r\n    \r\n    render() {\r\n        console.log('==modal==',this.modal);\r\n        console.log('==this.props.isVisible==',this.props.isVisible);\r\n        console.log('== this.state.isShown ==', this.state.isShown);\r\n        return (\r\n            <React.Fragment>\r\n\r\n                    <ModalTrigger\r\n                        showModal={ this.props.isVisible ? this.showModal : this.logOut }\r\n                        buttonRef={ev => (this.TriggerButton = ev)}\r\n                        triggerText={this.props.buttonText}\r\n                        awesomeIcon={this.props.awesomeIcon}\r\n                    />\r\n                    {\r\n                        this.state.isShown && this.props.isVisible ? (\r\n                            <ModalContent\r\n                                modalRef={ev => (this.modal = ev)}\r\n                                buttonRef={ev => (this.closeButton = ev)}\r\n                                closeModal={this.closeModal}\r\n                                content={ this.props.modalContent }\r\n                                onKeyDown={this.onKeyDown}\r\n                                onClickOutside={this.onClickOutside}\r\n                            />\r\n                         ) : null\r\n                    \r\n                    }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n"]},"metadata":{},"sourceType":"module"}