{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\natali.kaefer\\\\Workspace\\\\kaefer-logistik\\\\logistik-app\\\\src\\\\components\\\\molecules\\\\Modal\\\\Modal.js\";\nimport React, { Component } from 'react';\nimport ModalTrigger from \"./ModalTrigger/ModalTrigger\";\nimport ModalContent from \"./ModalContent/ModalContent\";\nimport config from \"../../../store/firebaseConfig\";\nexport var Modal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Modal).call(this));\n\n    _this.showModal = function () {\n      console.log('--showModal--');\n\n      _this.setState({\n        isShown: true\n      }, function () {\n        _this.closeButton.focus();\n      });\n\n      _this.toggleScrollLock();\n    };\n\n    _this.closeModal = function () {\n      console.log('--closeModal--');\n\n      _this.setState({\n        isShown: false\n      });\n\n      _this.TriggerButton.focus();\n\n      _this.toggleScrollLock();\n    };\n\n    _this.onKeyDown = function (event) {\n      console.log('--onKeyDown--');\n\n      if (event.keyCode === 27) {\n        _this.closeModal();\n      }\n    };\n\n    _this.onClickOutside = function (event) {\n      console.log('--onClickOutside--');\n      console.log('==modal==', _this.modal);\n      console.log('==event.target==', event.target);\n      console.log('== containes ==', _this.modal.contains(event.target));\n      if (_this.modal && _this.modal.contains(event.target)) return;\n\n      _this.closeModal();\n    };\n\n    _this.toggleScrollLock = function () {\n      console.log('--toggleScrollLock--');\n      document.querySelector('body').classList.toggle('scroll-lock');\n    };\n\n    _this.state = {\n      isShown: false\n    };\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('==modal 22==', this.modal);\n      console.log('==this.props.isVisible==', this.props.isVisible);\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return config.auth().signOut();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \" Logout \"), React.createElement(ModalTrigger, {\n        showModal: this.props.isVisible ? this.showModal : function () {\n          return config.auth().signOut();\n        },\n        buttonRef: function buttonRef(ev) {\n          return _this2.TriggerButton = ev;\n        },\n        triggerText: this.props.buttonText,\n        awesomeIcon: this.props.awesomeIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), this.state.isShown && this.props.isVisible ? React.createElement(ModalContent, {\n        modalRef: function modalRef(ev) {\n          return _this2.modal = ev;\n        },\n        buttonRef: function buttonRef(ev) {\n          return _this2.closeButton = ev;\n        },\n        closeModal: this.closeModal,\n        content: this.props.isVisible ? this.props.modalContent : React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \" Sie sind ausgeloggt\"),\n        onKeyDown: this.onKeyDown,\n        onClickOutside: this.onClickOutside,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return Modal;\n}(Component);\nexport default Modal;","map":{"version":3,"sources":["C:/Users/natali.kaefer/Workspace/kaefer-logistik/logistik-app/src/components/molecules/Modal/Modal.js"],"names":["React","Component","ModalTrigger","ModalContent","config","Modal","showModal","console","log","setState","isShown","closeButton","focus","toggleScrollLock","closeModal","TriggerButton","onKeyDown","event","keyCode","onClickOutside","modal","target","contains","document","querySelector","classList","toggle","state","props","isVisible","auth","signOut","ev","buttonText","awesomeIcon","modalContent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport ModalTrigger from \"./ModalTrigger/ModalTrigger\";\r\nimport ModalContent from \"./ModalContent/ModalContent\";\r\nimport config from \"../../../store/firebaseConfig\";\r\n\r\nexport class  Modal extends Component {\r\n    \r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isShown: false\r\n        };\r\n    }\r\n\r\n    showModal = () => {\r\n        console.log('--showModal--');\r\n        this.setState({ isShown: true }, () => {\r\n            this.closeButton.focus();\r\n        });\r\n        this.toggleScrollLock();\r\n    };\r\n    \r\n    closeModal = () => {\r\n        console.log('--closeModal--');\r\n        this.setState({ isShown: false });\r\n        this.TriggerButton.focus();\r\n        this.toggleScrollLock();\r\n    };\r\n    \r\n    onKeyDown = event => {\r\n        console.log('--onKeyDown--');\r\n        if (event.keyCode === 27) {\r\n            this.closeModal();\r\n        }\r\n    };\r\n    \r\n    onClickOutside = event => {\r\n        console.log('--onClickOutside--');\r\n        console.log('==modal==',this.modal);\r\n        console.log('==event.target==',event.target);\r\n        console.log('== containes ==', this.modal.contains(event.target));\r\n        if (this.modal && this.modal.contains(event.target)) return;\r\n        this.closeModal();\r\n    };\r\n    \r\n    toggleScrollLock = () => {\r\n        console.log('--toggleScrollLock--');\r\n        document.querySelector('body').classList.toggle('scroll-lock');\r\n    };\r\n    \r\n    render() {\r\n        console.log('==modal 22==',this.modal);\r\n        console.log('==this.props.isVisible==',this.props.isVisible);\r\n        return (\r\n            <React.Fragment>\r\n                <button onClick={() => config.auth().signOut()}> Logout </button>\r\n                    <ModalTrigger\r\n                        showModal={ this.props.isVisible ? this.showModal : () => config.auth().signOut() }\r\n                        buttonRef={ev => (this.TriggerButton = ev)}\r\n                        triggerText={this.props.buttonText}\r\n                        awesomeIcon={this.props.awesomeIcon}\r\n                    />\r\n                    {\r\n                        this.state.isShown && this.props.isVisible ? (\r\n                            <ModalContent\r\n                                modalRef={ev => (this.modal = ev)}\r\n                                buttonRef={ev => (this.closeButton = ev)}\r\n                                closeModal={this.closeModal}\r\n                                content={this.props.isVisible ? this.props.modalContent : <p> Sie sind ausgeloggt</p>}\r\n                                onKeyDown={this.onKeyDown}\r\n                                onClickOutside={this.onClickOutside}\r\n                            />\r\n                         ) : null\r\n                    \r\n                    }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n"]},"metadata":{},"sourceType":"module"}